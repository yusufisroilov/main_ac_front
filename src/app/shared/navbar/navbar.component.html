<!-- <nav #navbar class="navbar navbar-expand-lg navbar-transparent l navbar-absolute">
  <div class="container-fluid">
    <div class="navbar-wrapper">
      <div class="navbar-minimize">
        <button mat-raised-button (click)="minimizeSidebar()" class="btn btn-just-icon btn-white btn-fab btn-round">
          <i class="material-icons text_align-center visible-on-sidebar-regular">more_vert</i>
          <i class="material-icons design_bullet-list-67 visible-on-sidebar-mini">view_list</i>
        </button>
      </div>
      <a class="navbar-brand" href="{{getPath()}}"> {{getTitle()}}</a>
    </div>
    <button mat-button class="navbar-toggler btn-no-ripple" type="button" (click)="sidebarToggle()">
      <span class="sr-only">Toggle navigation</span>
      <span class="navbar-toggler-icon icon-bar"></span>
      <span class="navbar-toggler-icon icon-bar"></span>
      <span class="navbar-toggler-icon icon-bar"></span>
    </button>
    <div class="collapse navbar-collapse justify-content-end" id="navigation">
      <form class="navbar-form">
        <div class="input-group no-border">
          <input type="text" value="" class="form-control" placeholder="Search...">
          <button mat-raised-button type="submit" class="btn btn-white btn-round btn-just-icon">
            <i class="material-icons">search</i>
            <div class="ripple-container"></div>
          </button>
        </div>
      </form>
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" href="#pablo">
            <i class="material-icons">dashboard</i>
            <p>
              <span class="d-lg-none d-md-block">Stats</span>
            </p>
          </a>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link" href="#pablo" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true"
            aria-expanded="false">
            <i class="material-icons">notifications</i>
            <span class="notification">5</span>
            <p>
              <span class="d-lg-none d-md-block">Some Actions</span>
            </p>
          </a>
          <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
            <a class="dropdown-item" href="#">Mike John responded to your email</a>
            <a class="dropdown-item" href="#">You have 5 new tasks</a>
            <a class="dropdown-item" href="#">You're now friend with Andrew</a>
            <a class="dropdown-item" href="#">Another Notification</a>
            <a class="dropdown-item" href="#">Another One</a>
          </div>
        </li>
        <li class="nav-item">
          <a (click)="authService.logout()" class="nav-link" href="/#/pages/login">
            <i class="material-icons">logout</i>
            <p>
              <span class="d-lg-none d-md-block">Account</span>
            </p>
          </a>
        </li>
      </ul>
    </div>
  </div>

</nav>

 -->

<nav #navbar class="navbar navbar-expand-lg navbar-transparent l navbar-absolute">
  <div class="container-fluid">
    <!-- Left Side: Logo and Toggle -->
    <div class="navbar-wrapper">
      <div class="navbar-minimize">
        <button mat-raised-button (click)="minimizeSidebar()" class="btn btn-just-icon btn-white btn-fab btn-round">
          <i class="material-icons text_align-center visible-on-sidebar-regular">more_vert</i>
          <i class="material-icons design_bullet-list-67 visible-on-sidebar-mini">view_list</i>
        </button>
      </div>
      <a class="navbar-brand" href="{{getPath()}}"> {{getTitle()}}</a>
    </div>

    <!-- Mobile Toggle Button -->
    <button mat-button class="navbar-toggler btn-no-ripple" type="button" (click)="sidebarToggle()">
      <span class="sr-only">Toggle navigation</span>
      <span class="navbar-toggler-icon icon-bar"></span>
      <span class="navbar-toggler-icon icon-bar"></span>
      <span class="navbar-toggler-icon icon-bar"></span>
    </button>

    <!-- Right Side: Notifications & Logout -->
    <div class="collapse navbar-collapse justify-content-end" id="navigation">
      <ul class="navbar-nav">

        <!-- ========================================= -->
        <!-- TICKET NOTIFICATIONS                      -->
        <!-- ========================================= -->
        <li class="nav-item notification-dropdown-container">
          <a class="nav-link" href="javascript:void(0)" (click)="toggleTicketNotifications()"
            style="position: relative;">
            <i class="material-icons">confirmation_number</i>
            <span class="notification-badge" *ngIf="notificationCounts.tickets > 0">
              {{ notificationCounts.tickets }}
            </span>
            <p>
              <span class="d-lg-none d-md-block">Tickets</span>
            </p>
          </a>

          <!-- TICKET NOTIFICATION DROPDOWN PANEL -->
          <div class="notification-dropdown" *ngIf="showTicketDropdown">

            <!-- Header -->
            <div class="notification-header">
              <h6>
                <i class="material-icons">confirmation_number</i>
                So'rovlar Bildirishnomalari
              </h6>
              <button class="mark-all-btn" (click)="markAllTicketsAsRead()" *ngIf="ticketNotifications.length > 0">
                Hammasini o'qilgan deb belgilash
              </button>
            </div>

            <!-- Notification List -->
            <div class="notification-list">

              <!-- Empty State -->
              <div class="notification-empty" *ngIf="ticketNotifications.length === 0">
                <i class="material-icons">inbox</i>
                <p>Hech qanday Habarlar topilmadi</p>
              </div>

              <!-- Notification Items -->
              <div class="notification-item" *ngFor="let notification of ticketNotifications"
                [class.unread]="!notification.isRead" (click)="onNotificationClick(notification)">

                <!-- Icon -->
                <div class="notification-icon" [style.background]="notification.color">
                  <i class="material-icons">{{ notification.icon }}</i>
                </div>

                <!-- Content -->
                <div class="notification-content">
                  <div class="notification-title">{{ notification.title }}</div>
                  <div class="notification-description">{{ notification.description }}</div>
                  <div class="notification-time">{{ getTimeAgo(notification.timestamp) }}</div>
                </div>
              </div>
            </div>

            <!-- Footer -->
            <div class="notification-footer">
              <a [routerLink]="['/customer-tickets']" (click)="closeTicketDropdown()"
                *ngIf="authService.getRole() === 'CLIENT'">
                Barcha So'rovlarni ko'rish
              </a>
              <a [routerLink]="['/uzm/tickets-list']" (click)="closeTicketDropdown()"
                *ngIf="authService.getRole() !== 'CLIENT'">
                Barcha So'rovlarni Ko'rish
              </a>
            </div>
          </div>
        </li>

        <!-- ========================================= -->
        <!-- DELIVERY NOTIFICATIONS                    -->
        <!-- ========================================= -->
        <li class="nav-item notification-dropdown-container">
          <a class="nav-link" href="javascript:void(0)" (click)="toggleDeliveryNotifications()"
            style="position: relative;">
            <i class="material-icons">local_shipping</i>
            <span class="notification-badge" *ngIf="notificationCounts.deliveryRequests > 0">
              {{ notificationCounts.deliveryRequests }}
            </span>
            <p>
              <span class="d-lg-none d-md-block">Ytkazma So'rovlari</span>
            </p>
          </a>

          <!-- DELIVERY NOTIFICATION DROPDOWN PANEL -->
          <div class="notification-dropdown" *ngIf="showDeliveryDropdown">

            <!-- Header -->
            <div class="notification-header">
              <h6>
                <i class="material-icons">local_shipping</i>
                Yetkazish So'rovlari Bildirishnomalari
              </h6>
              <button class="mark-all-btn" (click)="markAllDeliveriesAsRead()" *ngIf="deliveryNotifications.length > 0">
                Hammasini o'qildi deb belgilash
              </button>
            </div>

            <!-- Notification List -->
            <div class="notification-list">

              <!-- Empty State -->
              <div class="notification-empty" *ngIf="deliveryNotifications.length === 0">
                <i class="material-icons">inbox</i>
                <p>Hech qanday bildirishNomalar topilmadi</p>
              </div>

              <!-- Notification Items -->
              <div class="notification-item" *ngFor="let notification of deliveryNotifications"
                [class.unread]="!notification.isRead" (click)="onNotificationClick(notification)">

                <!-- Icon -->
                <div class="notification-icon" [style.background]="notification.color">
                  <i class="material-icons">{{ notification.icon }}</i>
                </div>

                <!-- Content -->
                <div class="notification-content">
                  <div class="notification-title">{{ notification.title }}</div>
                  <div class="notification-description">{{ notification.description }}</div>
                  <div class="notification-time">{{ getTimeAgo(notification.timestamp) }}</div>
                </div>
              </div>
            </div>

            <!-- Footer -->
            <div class="notification-footer">
              <a [routerLink]="['/uzm/delivery-requests']" (click)="closeDeliveryDropdown()"
                *ngIf="authService.getRole() === 'CLIENT'">
                Barcha Bildirishnomalarni Ko'rish
              </a>
              <a [routerLink]="['/uzm/admin-del-requests']" (click)="closeDeliveryDropdown()"
                *ngIf="authService.getRole() !== 'CLIENT'">
                Barcha Bildirishnomalarni Ko'rish
              </a>
            </div>
          </div>
        </li>

        <!-- ========================================= -->
        <!-- LOGOUT                                    -->
        <!-- ========================================= -->
        <li class="nav-item">
          <a (click)="authService.logout()" class="nav-link" href="/#/pages/login">
            <i class="material-icons">logout</i>
            <p>
              <span class="d-lg-none d-md-block">Logout</span>
            </p>
          </a>
        </li>
      </ul>
    </div>
  </div>
</nav>